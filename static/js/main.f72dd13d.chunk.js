(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{11:function(e,t,n){e.exports={app:"App_app__1IksY",weather:"App_weather__18FYf",bottom:"App_bottom__1phAf",divider:"App_divider__3TIDT"}},16:function(e,t,n){e.exports={title:"Meta_title__2_3z7"}},17:function(e,t,n){e.exports={block:"Weathers_block__1YnAG",header:"Weathers_header__3OaWT",title:"Weathers_title__1wtVT",icon:"Weathers_icon__EYxuO",temperature:"Weathers_temperature__1etY5"}},28:function(e,t,n){e.exports={loading:"Loading_loading__2nSrA"}},29:function(e,t,n){e.exports={title:"Weather_title__MKNSx",icon:"Weather_icon__3jpCK",temperature:"Weather_temperature__9R3j6"}},34:function(e,t,n){},5:function(e,t,n){e.exports={current:"Current_current__2bCtp",left:"Current_left__3KflQ",temperature:"Current_temperature__3INBI",clouds:"Current_clouds__Ku4k4",bottomMetas:"Current_bottomMetas__3toL-",humidity:"Current_humidity__nzLzK",wind:"Current_wind__354z-",right:"Current_right__3aLAj",location:"Current_location__1OEQx",bottom:"Current_bottom__1ZcpP",divider:"Current_divider__1C6Um",loading:"Current_loading__1n9VF"}},61:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(12),i=n.n(c),s=(n(34),n(10)),o=n(13),u=Object(o.b)({name:"weather",initialState:{},reducers:{setCityWeather:function(e,t){e.cityWeather=t.payload}}}),l=u.actions.setCityWeather,d=function(e){return e.cityWeather},p=u.reducer,_=Object(o.a)({reducer:{cityWeather:p}}),j=n(1),h=function(e){return Object(j.jsx)("div",{className:e.className})},m=n(2),b=n.n(m),f=n(3),O=n(6);function v(){return x.apply(this,arguments)}function x(){return(x=Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){navigator.geolocation.getCurrentPosition(e,t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=n(27),g=n.n(y),w=Object({NODE_ENV:"production",PUBLIC_URL:"/typescript-react-weather-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_WEATHER_APP_ID,C=g.a.create({baseURL:"https://api.openweathermap.org/data/2.5/"});C.interceptors.request.use((function(e){return e.params.appid=w,e})),C.interceptors.request.use((function(e){return e.params.units="metric",e}));var N=C;function S(e){return W.apply(this,arguments)}function W(){return(W=Object(f.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",N.get("/weather",{params:{lat:t.lat,lon:t.lon}}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return T.apply(this,arguments)}function T(){return(T=Object(f.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",N.get("/group",{params:{id:t.join(",")}}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E=function(e){var t=e.className,n=e.children;return Object(j.jsx)("span",{className:t,children:n})},A=n(16),F=n.n(A),M=function(e){var t=e.className,n=e.title,r=e.value;return Object(j.jsxs)("div",{className:t,children:[n&&Object(j.jsx)(E,{className:F.a.title,children:n}),n&&Object(j.jsx)("br",{}),Object(j.jsx)(E,{className:F.a.value,children:r})]})},D=n(5),I=n.n(D),K=n(8),P=n.n(K),L=n(28),R=n.n(L),H=function(e){var t=e.loadingStyle,n=P.a.bind(R.a);return Object(j.jsx)("div",{className:n("loading",t),children:Object(j.jsx)("div",{children:"loading..."})})},U=function(){return Object(s.b)()},Y=s.c,q=function(){var e,t,n=Object(r.useState)(!0),a=Object(O.a)(n,2),c=a[0],i=a[1],s=Object(r.useState)(),o=Object(O.a)(s,2),u=o[0],p=o[1],_=Object(r.useState)(),m=Object(O.a)(_,2),x=m[0],y=m[1],g=Y(d).cityWeather,w=U();Object(r.useEffect)((function(){C()}),[]),Object(r.useEffect)((function(){N()}),[u]),Object(r.useEffect)((function(){g&&y(g)}),[g]);var C=function(){var e=Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v().then((function(e){p({lat:e.coords.latitude,lon:e.coords.longitude})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u||g){e.next=3;break}return e.next=3,S(u).then((function(e){var t=e.data;y(t),i(!1),w(l(t))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsx)("div",{className:I.a.current,children:c?Object(j.jsx)(H,{loadingStyle:I.a.loading}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:I.a.left,children:[Object(j.jsx)(M,{className:I.a.temperature,value:"".concat(null===x||void 0===x?void 0:x.main.temp," \xb0")}),Object(j.jsx)(M,{className:I.a.clouds,value:"".concat(null===x||void 0===x?void 0:x.weather[0].main)}),Object(j.jsxs)("div",{className:I.a.bottomMetas,children:[Object(j.jsx)(M,{className:I.a.humidity,title:"HUMIDITY",value:"".concat(null===x||void 0===x||null===(e=x.wind)||void 0===e?void 0:e.speed," %")}),Object(j.jsx)(h,{className:I.a.divider}),Object(j.jsx)(M,{className:I.a.wind,title:"WIND",value:"".concat(null===x||void 0===x||null===(t=x.wind)||void 0===t?void 0:t.speed," K/M")})]})]}),Object(j.jsx)("div",{className:I.a.right,children:Object(j.jsx)(M,{className:I.a.location,value:"".concat(null===x||void 0===x?void 0:x.name)})}),Object(j.jsx)("div",{className:I.a.bottom})]})})};function z(e){return B.apply(this,arguments)}function B(){return(B=Object(f.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",N.get("/forecast",{params:{id:t}}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var V=[{id:2158177,name:"Melbourne"},{id:2147714,name:"Sydney"},{id:2174003,name:"Brisbane"},{id:2063523,name:"Perth"}],G=["SUN","MON","TUE","WED","THU","FRI","SAT"],J=n(17),Q=n.n(J),Z=function(e){var t=e.parentStyles,n=e.header,r=e.loading,a=e.children,c=P.a.bind(Q.a);return Object(j.jsxs)("div",{className:c("block"),children:[Object(j.jsx)("h2",{className:Q.a.header,children:n}),r?Object(j.jsx)(H,{}):Object(j.jsx)("div",{className:t,children:a})]})},X=n(29),$=n.n(X),ee=function(e){var t=e.childrenStyles,n=e.CustomTag,r=e.title,a=e.clouds,c=e.temperature,i=e.onClick,s=P.a.bind($.a);return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(n,{className:t[0],onClick:function(){return i?i():null},children:[Object(j.jsx)("h3",{className:s("title",t[1]),children:r}),Object(j.jsx)("img",{className:s("icon",t[2]),src:"http://openweathermap.org/img/wn/".concat(a.icon,"@2x.png"),alt:a.main}),Object(j.jsx)("div",{className:s("temperature",t[3]),children:c})]})})},te=n(9),ne=n.n(te),re=[ne.a.everyday,ne.a.day,ne.a.icon,ne.a.temperature],ae=function(){var e,t=Object(r.useState)(),n=Object(O.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)(!0),s=Object(O.a)(i,2),o=s[0],u=s[1],l=null===(e=Y(d).cityWeather)||void 0===e?void 0:e.id;Object(r.useEffect)((function(){p()}),[l]);var p=function(){var e=Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=3;break}return e.next=3,z(l).then((function(e){var t=e.data.list;c(_(t)),u(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(e){return e.filter((function(e){return 12===new Date(e.dt_txt).getHours()}))};return Object(j.jsx)("div",{className:ne.a.forecast,children:Object(j.jsx)(Z,{parentStyles:ne.a.weathers,header:"Forecast",loading:o,children:null===a||void 0===a?void 0:a.map((function(e){return Object(j.jsx)(ee,{childrenStyles:re,CustomTag:"div",title:G[new Date(e.dt_txt).getDay()],clouds:e.weather[0],temperature:"".concat(Math.round(e.main.temp)," \xb0")},e.dt_txt)}))})})},ce=n(7),ie=n.n(ce),se=[ie.a.city,ie.a.name,ie.a.icon,ie.a.temperature],oe=function(){var e=Object(r.useState)(),t=Object(O.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!0),i=Object(O.a)(c,2),s=i[0],o=i[1],u=Object(r.useState)(!1),p=Object(O.a)(u,2),_=p[0],h=p[1],m=Y(d).cityWeather,v=U(),x=P.a.bind(ie.a);Object(r.useEffect)((function(){y()}),[]);var y=function(){var e=Object(f.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=V.map((function(e){return e.id})),e.next=3,k(t).then((function(e){var t=e.data;a(t.list),o(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:ie.a.otherCities,children:[!_&&Object(j.jsx)("button",{className:ie.a.toggle,onClick:function(){return h(!_)},children:"View More Cities ..."}),Object(j.jsx)("div",{className:x("container",{active:_}),children:Object(j.jsx)(Z,{parentStyles:ie.a.cities,header:"Other Cities",loading:s,children:null===n||void 0===n?void 0:n.map((function(e,t){return Object(j.jsx)(ee,{childrenStyles:se,CustomTag:"button",onClick:function(){return function(e,t){if(n){var r=n.map((function(e,n){return m&&n===t?m:e}));a(r)}m&&v(l(e))}(e,t)},title:e.name,clouds:e.weather[0],temperature:"".concat(Math.round(e.main.temp)," \xb0")},e.id)}))})})]})},ue=n(11),le=n.n(ue),de=function(){return Object(j.jsx)("div",{className:le.a.app,children:Object(j.jsxs)("div",{className:le.a.weather,children:[Object(j.jsx)(q,{}),Object(j.jsxs)("div",{className:le.a.bottom,children:[Object(j.jsx)(oe,{}),Object(j.jsx)(h,{className:le.a.divider}),Object(j.jsx)(ae,{})]})]})})};i.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(s.a,{store:_,children:Object(j.jsx)(de,{})})}),document.getElementById("root"))},7:function(e,t,n){e.exports={otherCities:"OtherCities_otherCities__jnC3A",toggle:"OtherCities_toggle__A0OLI",container:"OtherCities_container__1xHw4",active:"OtherCities_active__15sNT",city:"OtherCities_city__2YFSc",name:"OtherCities_name__2GjLL",icon:"OtherCities_icon__3qrq-",temperature:"OtherCities_temperature__1GKFk"}},9:function(e,t,n){e.exports={forecast:"Forecast_forecast__3_gmE",weathers:"Forecast_weathers__15OQW",everyday:"Forecast_everyday__3FOrc",day:"Forecast_day__26eWd",icon:"Forecast_icon__JgmAR",temperature:"Forecast_temperature__3KlxT"}}},[[61,1,2]]]);
//# sourceMappingURL=main.f72dd13d.chunk.js.map