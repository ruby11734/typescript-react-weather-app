(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{12:function(e,t,r){e.exports={app:"App_app__1IksY",weather:"App_weather__18FYf",bottom:"App_bottom__1phAf",divider:"App_divider__3TIDT"}},16:function(e,t,r){e.exports={title:"Meta_title__2_3z7"}},17:function(e,t,r){e.exports={block:"Weathers_block__1YnAG",header:"Weathers_header__3OaWT",title:"Weathers_title__1wtVT",icon:"Weathers_icon__EYxuO",temperature:"Weathers_temperature__1etY5"}},28:function(e,t,r){e.exports={loading:"Loading_loading__2nSrA"}},29:function(e,t,r){e.exports={title:"Weather_title__MKNSx",icon:"Weather_icon__3jpCK",temperature:"Weather_temperature__9R3j6"}},34:function(e,t,r){},5:function(e,t,r){e.exports={current:"Current_current__2bCtp",left:"Current_left__3KflQ",temperature:"Current_temperature__3INBI",clouds:"Current_clouds__Ku4k4",bottomMetas:"Current_bottomMetas__3toL-",humidity:"Current_humidity__nzLzK",wind:"Current_wind__354z-",right:"Current_right__3aLAj",location:"Current_location__1OEQx",bottom:"Current_bottom__1ZcpP",divider:"Current_divider__1C6Um"}},61:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),c=r(13),i=r.n(c),s=(r(34),r(11)),o=r(10),u=Object(o.b)({name:"weather",initialState:{},reducers:{setCityWeather:function(e,t){e.cityWeather=t.payload}}}),l=u.actions.setCityWeather,d=function(e){return e.setCityWeather},p=u.reducer,j=Object(o.b)({name:"location",initialState:{error:!1},reducers:{setLocationError:function(e){e.error=!0}}}),_=j.actions.setLocationError,m=function(e){return e.setLocationError},h=j.reducer,b=Object(o.a)({reducer:{setCityWeather:p,setLocationError:h}}),f=r(0),O=function(e){return Object(f.jsx)("div",{className:e.className})},v=r(2),x=r.n(v),y=r(3),g=r(6);function w(){return N.apply(this,arguments)}function N(){return(N=Object(y.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){return navigator.geolocation&&navigator.geolocation.getCurrentPosition(e,t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=r(27),S=r.n(C).a.create({baseURL:"https://api.openweathermap.org/data/2.5/"});S.interceptors.request.use((function(e){return e.params.appid="b091783d6e0f7a19cde9004ff5adc247",e})),S.interceptors.request.use((function(e){return e.params.units="metric",e}));var k=S;function W(e){return E.apply(this,arguments)}function E(){return(E=Object(y.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k.get("/weather",{params:{lat:t.latitude,lon:t.longitude}}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return M.apply(this,arguments)}function M(){return(M=Object(y.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k.get("/group",{params:{id:t.join(",")}}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T=function(e){var t=e.className,r=e.children;return Object(f.jsx)("span",{className:t,children:r})},A=r(16),L=r.n(A),I=function(e){var t=e.className,r=e.title,a=e.value;return Object(f.jsxs)("div",{className:t,children:[r&&Object(f.jsx)(T,{className:L.a.title,children:r}),r&&Object(f.jsx)("br",{}),Object(f.jsx)(T,{className:L.a.value,children:a})]})},K=r(5),D=r.n(K),Y=r(8),U=r.n(Y),P=r(28),q=r.n(P),z=function(e){var t=e.loadingStyle,r=U.a.bind(q.a);return Object(f.jsx)("div",{className:r("loading",t),children:Object(f.jsx)("div",{children:"loading..."})})},H=function(){return Object(s.b)()},R=s.c,B=function(){var e,t,r=Object(a.useState)(!0),n=Object(g.a)(r,2),c=n[0],i=n[1],s=Object(a.useState)(),o=Object(g.a)(s,2),u=o[0],p=o[1],j=R(d).cityWeather,m=H();Object(a.useEffect)((function(){h()}),[]),Object(a.useEffect)((function(){j&&(p(j),i(!j))}),[j]);var h=function(){var e=Object(y.a)(x.a.mark((function e(){var t,r,a,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w();case 3:return t=e.sent,r=t.coords,e.next=7,W(r);case 7:a=e.sent,n=a.data,p(n),i(!n),m(l(n)),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),m(_()),alert("Please make sure to enable the location permission!");case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsx)("div",{className:D.a.current,children:c?Object(f.jsx)(z,{loadingStyle:D.a.loading}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:D.a.left,children:[Object(f.jsx)(I,{className:D.a.temperature,value:"".concat(null===u||void 0===u?void 0:u.main.temp," \xb0")}),Object(f.jsx)(I,{className:D.a.clouds,value:"".concat(null===u||void 0===u?void 0:u.weather[0].main)}),Object(f.jsxs)("div",{className:D.a.bottomMetas,children:[Object(f.jsx)(I,{className:D.a.humidity,title:"HUMIDITY",value:"".concat(null===u||void 0===u||null===(e=u.wind)||void 0===e?void 0:e.speed," %")}),Object(f.jsx)(O,{className:D.a.divider}),Object(f.jsx)(I,{className:D.a.wind,title:"WIND",value:"".concat(null===u||void 0===u||null===(t=u.wind)||void 0===t?void 0:t.speed," K/M")})]})]}),Object(f.jsx)("div",{className:D.a.right,children:Object(f.jsx)(I,{className:D.a.location,value:"".concat(null===u||void 0===u?void 0:u.name)})}),Object(f.jsx)("div",{className:D.a.bottom})]})})};function G(e){return J.apply(this,arguments)}function J(){return(J=Object(y.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k.get("/forecast",{params:{id:t}}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Q=[{id:2158177,name:"Melbourne"},{id:2147714,name:"Sydney"},{id:2174003,name:"Brisbane"},{id:2063523,name:"Perth"}],V=["SUN","MON","TUE","WED","THU","FRI","SAT"],Z=r(17),X=r.n(Z),$=function(e){var t=e.parentStyles,r=e.header,a=e.loading,n=e.children,c=U.a.bind(X.a);return Object(f.jsxs)("div",{className:c("block"),children:[Object(f.jsx)("h2",{className:X.a.header,children:r}),a?Object(f.jsx)(z,{}):Object(f.jsx)("div",{className:t,children:n})]})},ee=r(29),te=r.n(ee),re=function(e){var t=e.childrenStyles,r=e.CustomTag,a=e.title,n=e.clouds,c=e.temperature,i=e.onClick,s=U.a.bind(te.a);return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(r,{className:t[0],onClick:function(){return i?i():null},children:[Object(f.jsx)("h3",{className:s("title",t[1]),children:a}),Object(f.jsx)("img",{className:s("icon",t[2]),src:"https://openweathermap.org/img/wn/".concat(n.icon,".png"),alt:n.main}),Object(f.jsx)("div",{className:s("temperature",t[3]),children:c})]})})},ae=r(9),ne=r.n(ae),ce=[ne.a.everyday,ne.a.day,ne.a.icon,ne.a.temperature],ie=function(){var e,t=Object(a.useState)(),r=Object(g.a)(t,2),n=r[0],c=r[1],i=Object(a.useState)(!0),s=Object(g.a)(i,2),o=s[0],u=s[1],l=null===(e=R(d).cityWeather)||void 0===e?void 0:e.id;Object(a.useEffect)((function(){p()}),[l]);var p=function(){var e=Object(y.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=6;break}return e.next=3,G(l);case 3:t=e.sent.data.list,c(j(t)),u(!t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(e){return e.filter((function(e){return 12===new Date(e.dt_txt).getHours()}))};return Object(f.jsx)("div",{className:ne.a.forecast,children:Object(f.jsx)($,{parentStyles:ne.a.weathers,header:"Forecast",loading:o,children:null===n||void 0===n?void 0:n.map((function(e){return Object(f.jsx)(re,{childrenStyles:ce,CustomTag:"div",title:V[new Date(e.dt_txt).getDay()],clouds:e.weather[0],temperature:"".concat(Math.round(e.main.temp)," \xb0")},e.dt_txt)}))})})},se=r(7),oe=r.n(se),ue=[oe.a.city,oe.a.name,oe.a.icon,oe.a.temperature],le=function(){var e=Object(a.useState)(),t=Object(g.a)(e,2),r=t[0],n=t[1],c=Object(a.useState)(!0),i=Object(g.a)(c,2),s=i[0],o=i[1],u=Object(a.useState)(!1),p=Object(g.a)(u,2),j=p[0],_=p[1],h=R(d).cityWeather,b=R(m).error,O=H(),v=U.a.bind(oe.a);Object(a.useEffect)((function(){w()}),[b]);var w=function(){var e=Object(y.a)(x.a.mark((function e(){var t,r,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Q.map((function(e){return e.id})),e.next=3,F(t);case 3:return e.next=5,e.sent.data;case 5:r=e.sent,a=r.list,n(a),o(!a),b&&O(l(a[0]));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:oe.a.otherCities,children:[!j&&Object(f.jsx)("button",{className:oe.a.toggle,onClick:function(){return _(!j)},children:"View More Cities ..."}),Object(f.jsx)("div",{className:v("container",{active:j}),children:Object(f.jsx)($,{parentStyles:oe.a.cities,header:"Other Cities",loading:s,children:null===r||void 0===r?void 0:r.map((function(e,t){return Object(f.jsx)(re,{childrenStyles:ue,CustomTag:"button",onClick:function(){return function(e,t){if(r&&h){if(!r.find((function(e){return e.id===h.id}))){var a=r.map((function(e,r){return r===t?h:e}));n(a)}O(l(e))}}(e,t)},title:e.name,clouds:e.weather[0],temperature:"".concat(Math.round(e.main.temp)," \xb0")},e.id)}))})})]})},de=r(12),pe=r.n(de),je=function(){return Object(f.jsx)("div",{className:pe.a.app,children:Object(f.jsxs)("div",{className:pe.a.weather,children:[Object(f.jsx)(B,{}),Object(f.jsxs)("div",{className:pe.a.bottom,children:[Object(f.jsx)(le,{}),Object(f.jsx)(O,{className:pe.a.divider}),Object(f.jsx)(ie,{})]})]})})};i.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(s.a,{store:b,children:Object(f.jsx)(je,{})})}),document.getElementById("root"))},7:function(e,t,r){e.exports={otherCities:"OtherCities_otherCities__jnC3A",toggle:"OtherCities_toggle__A0OLI",container:"OtherCities_container__1xHw4",active:"OtherCities_active__15sNT",city:"OtherCities_city__2YFSc",name:"OtherCities_name__2GjLL",icon:"OtherCities_icon__3qrq-",temperature:"OtherCities_temperature__1GKFk"}},9:function(e,t,r){e.exports={forecast:"Forecast_forecast__3_gmE",weathers:"Forecast_weathers__15OQW",everyday:"Forecast_everyday__3FOrc",day:"Forecast_day__26eWd",icon:"Forecast_icon__JgmAR",temperature:"Forecast_temperature__3KlxT"}}},[[61,1,2]]]);
//# sourceMappingURL=main.c83ff3d4.chunk.js.map